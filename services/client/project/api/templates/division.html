{% extends 'base.html' %}

{% block content %}
    <h1>Division: {{ division }}</h1>
    <h2>Stats</h2>
    {#    {{ stats }}#}
    <h3>Best attack</h3>
    Team: {{ stats["best_attack"]["team"] }}<br>
    Goals: {{ stats["best_attack"]["count"] }}
    <h3>Best defense</h3>
    Team: {{ stats["best_defense"]["team"] }}<br>
    Counter goals: {{ stats["best_defense"]["count"] }}
    <h3>Most clean sheets</h3>
    Team: {{ stats["most_clean_sheets"]["team"] }}
    Count: {{ stats["most_clean_sheets"]["count"] }}
    <h2>League Table</h2>
    <table class="table">
        <thead>
        <tr>
            <th scope="col">team</th>
            <th scope="col">wins</th>
            <th scope="col">loses</th>
            <th scope="col">score</th>
        </tr>
        </thead>
        <tbody>
        {#    {{ fixtures }}#}
        {% for team in league["league"] %}
            <tr>
                <th scope="row">{{ team }}</th>
                <td>{{ league["league"][team]["wins"] }}</td>
                <td>{{ league["league"][team]["loses"] }}</td>
                <td>{{ league["league"][team]["score"] }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>



    <h2>Fixtures</h2>

    <form class="form-inline" method="get">
        <input class="form-control mr-sm-2" id="team" name="team" type="search" placeholder="Team Number" aria-label="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Filter</button>
    </form>

    <table class="table">
        <thead>
        <tr>
            <th scope="col">id</th>
            <th scope="col">matchweek</th>
            <th scope="col">date</th>
            <th scope="col">time</th>
            <th scope="col">home</th>
            <th scope="col">away</th>

            <th scope="col">status id</th>
            <th scope="col">goals home</th>
            <th scope="col">goals away</th>
            <th scope="col">more info</th>
        </tr>
        </thead>
        <tbody>
        {#    {{ fixtures }}#}
        {% for match in fixtures["fixtures"] %}
            <tr>
                <th scope="row">{{ match["id"] }}</th>
                <td>{{ match["matchweek"] }}</td>
                <td>{{ match["date"] }}</td>
                <td>{{ match["time"] }}</td>
                <td>{{ match["home"] }}</td>
                <td>{{ match["away"] }}</td>
                <td>{{ match["status_id"] }}</td>
                <td>{{ match["goals_home"] }}</td>
                <td>{{ match["goals_away"] }}</td>
                <td><a href="/web/matches/{{ match["id"]}}">More info</a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}